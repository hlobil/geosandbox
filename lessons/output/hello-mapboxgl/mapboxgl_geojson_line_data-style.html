<!DOCTYPE html>
<html>

<head>
    <title>Hello MapboxGL</title>
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <!-- bootstrap -->
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- turfjs -->
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@5/turf.min.js"></script>
    <!-- MapboxGLJS -->
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css' rel='stylesheet' />
    <!-- code mirror -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/codemirror.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/codemirror.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/addon/edit/matchbrackets.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/addon/comment/continuecomment.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/addon/comment/comment.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/mode/javascript/javascript.min.js"></script>
    <!--  filesaver -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2014-11-29/FileSaver.min.js"></script>
    <!-- d3 -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.2/d3.min.js"></script>
    <!-- lessons css -->
    <link rel="stylesheet" type="text/css" href="../../components/lessons.css">
</head>

<body>
    <div class="content">
        <div class="col-md-6 col-sm-6" id="geocontainer">
            <div id="mymap"> </div>
        </div>
        <div class="col-md-6 col-sm-6">
            <button class="btn btn-success btn-lg" id="rerun">
                <a class="glyphicon glyphicon-triangle-right"></a> Run Code
            </button>
            <!-- <button class="btn btn-default btn-lg" id="dl">
        <a class="glyphicon glyphicon-save"></a> Download
    </button> -->
            <textarea id="code" name="code">
initMap();

map.on("load", function () {


  const myLine = turf.lineString([
    [
      -122.26100921630858,
      37.821446448926444
    ],
    [
      -122.22770690917969,
      37.79730575499309
    ],
    [
      -122.25654602050781,
      37.766643840752764
    ],
    [
      -122.3262405395508,
      37.790523241426946
    ],
    [
      -122.2671890258789,
      37.86645181975609
    ],
    [
      -122.18582153320312,
      37.821446448926444
    ],
    [
      -122.21157073974608,
      37.778584505321376
    ]
  ], {
    name: 'The best line in Oakland.',
    myColor: 'blue',
    myWidth: 10
  });



  // Add a single point to the map
  map.addSource('myLine', {
    "type": "geojson",
    "data": myLine
  });

  map.addLayer({
    "id": "myLine",
    "type": "line",
    "source": "myLine",
    'layout': {
      'line-cap': 'round',
      'line-join': 'round'
      },
    'paint': {
      'line-color': ['get', 'myColor'],
      'line-width': ['get', 'myWidth'],
      'line-opacity': .8
      }
  });
})
</textarea>
</div>
<script type="text/javascript" src="../../components/withMapboxGL/main.js"></script>
<script type="text/javascript" src="../../components/nonGeoCode.js"></script>
</body>

</html>